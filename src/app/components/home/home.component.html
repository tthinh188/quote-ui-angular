<div class="quotes">
    <ng-container *ngFor="let quote of quotes">
        <div class="quote">
            <h1 class="quote_description">
                "{{quote.Task}}"
            </h1>

            <p class="quote_time">{{quote.DueDate}}</p>
            <h2 class="quote_contact">{{quote.Contact}}</h2>
            <button mat-icon-button class="delete-button" (click)="handleDelete(quote.QuoteID)">
                <mat-icon>delete</mat-icon>
            </button>

            <button mat-icon-button class="edit-button" (click)="goToEdit(quote.QuoteID)">
                <mat-icon>edit</mat-icon>
            </button>
        </div>
    </ng-container>
</div>

<div *ngIf="editing" class="edit_container">
    <mat-card class="editBox">
        <button mat-icon-button class="close-button" (click)="closeEditBox()">
            <mat-icon>close</mat-icon>
        </button>
    
        <form class="editForm" (ngSubmit)="handleEdit(form)" #form="ngForm">
            <h2>Edit Quote</h2>
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Quote Type</mat-label>
                <input 
                    matInput 
                    type="text" 
                    name="QuoteType" 
                    [(ngModel)]="quote.QuoteType"
                    required
                >
            </mat-form-field>
    
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Contact</mat-label>
                <input 
                    matInput 
                    type="text" 
                    name="Contact"
                    [(ngModel)]="quote.Contact"
                    required
                >
            </mat-form-field>
    
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Task</mat-label>
                <input 
                    matInput 
                    type="text" 
                    name="Task"
                    [(ngModel)]="quote.Task"
                    required
                >
            </mat-form-field>
    
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Choose a date</mat-label>
    
                <input matInput [(ngModel)]="quote.DueDate" [matDatepicker]="picker" name="DueDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
    
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Task Type</mat-label>
                <input 
                    matInput 
                    type="text" 
                    name="TaskType"
                    [(ngModel)]="quote.TaskType"
                    required
                >
            </mat-form-field>
    
            <button class="full-width" mat-raised-button color="primary" type="submit">EDIT</button>
        </form>
    </mat-card>
</div>
